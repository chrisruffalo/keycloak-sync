# if the groups are provided from openshift as with the "-g" option keycloak-sync will work so that
# the state of keycloak and any changes/groups that were added otherwise will be gone. this _will_ delete
# any other type of added groups. setting this to "true" means that keycloak is the single overriding source
# of truth for groups that are found. warning: if you name a group the same as a group that came from keycloak
# and put users in it this procedure will clear/overwrite that group.
prune: true
# a list of realms to read user and group from
realms:
  # the realm that will be used as the source for users and groups. this is the name of the realm
  # as given in keycloak/sso. this is case sensitive.
- name: sso
  # the url to the root of the keycloak/sso instance
  url: http://localhost:8080
  # allows the setting of ssl-verification for the remote host. set
  # to false when the remote host is insecure
  ssl-verify: false
  # authentication requires either a client or a user
  # credentials for the read-only client.
  client:
    client-id: sync-client
    client-secret: d0a8b5cb-edfe-4e15-83d0-3446850310a7
  # credentials for a user with the capacity to query the given realm.
  user:
    username: admin
    password: admin
    # a realm is required if the realm is different than the realm name of current realm.
    # this is useful if the user is in another realm and has permissions on the current realm.
    realm: master
  # a list of values to search for the username. this should match the configuration value used when
  # adding an oidc identity provider as in the openshift documentation for the resource type "OAuth".
  # the first match is used. if no values are provided (empty or missing list) then the value of the
  # "Username" from Keycloak is used.\
  # TODO: this does not work yet
  preferred-username:
  - preferred_username
  - username
  - email
  # groups to synchronize, empty or null if all groups
  groups: []
  # aliases describe a map of group names _in keycloak_ to a map of group
  # names as you want to see them, aliases override prefix/suffix values
  # so if you want an alias with a prefix/suffix set it in the prefix name
  aliases:
    developers: sso-developers-dev
  # if a group name doesn't have an alias the prefix is applied to the
  # group name. a prefix of "sso-" turns a keycloak group "dev" to
  # "sso-dev"
  group-prefix: "sso-"
  # if a group name doesn't have an alias the suffix is applied to the
  # group name. a suffix of "_dev" turns a keycloak group "admin" to
  # "admin_dev"
  group-suffix: "-dev"